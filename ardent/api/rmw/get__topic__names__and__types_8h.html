<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rmw: include/rmw/get_topic_names_and_types.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rmw
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">C API providing a middleware abstraction layer which is used to implement the rest of ROS.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_f1863b20b54cc3d25893e93314d6cb7b.html">rmw</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">get_topic_names_and_types.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="macros_8h_source.html">rmw/macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="names__and__types_8h_source.html">rmw/names_and_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="types_8h_source.html">rmw/types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="visibility__control_8h_source.html">rmw/visibility_control.h</a>&quot;</code><br />
</div>
<p><a href="get__topic__names__and__types_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2186a91a382110bdab089f8e4d4d732a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a756236e6491fe4083162b32d52eaac8f">rmw_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="get__topic__names__and__types_8h.html#a2186a91a382110bdab089f8e4d4d732a">rmw_get_topic_names_and_types</a> (const <a class="el" href="structrmw__node__t.html">rmw_node_t</a> *node, <a class="elRef" doxygen="/home/dhood/ros2_ardent/doxygen_tag_files/rcutils.tag:http://docs.ros2.org/latest/api/rcutils/" href="http://docs.ros2.org/latest/api/rcutils/structrcutils__allocator__t.html">rcutils_allocator_t</a> *allocator, bool no_demangle, <a class="el" href="structrmw__names__and__types__t.html">rmw_names_and_types_t</a> *topic_names_and_types)</td></tr>
<tr class="memdesc:a2186a91a382110bdab089f8e4d4d732a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a list of topic names and their types.  <a href="#a2186a91a382110bdab089f8e4d4d732a">More...</a><br /></td></tr>
<tr class="separator:a2186a91a382110bdab089f8e4d4d732a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2186a91a382110bdab089f8e4d4d732a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2186a91a382110bdab089f8e4d4d732a">&#9670;&nbsp;</a></span>rmw_get_topic_names_and_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a756236e6491fe4083162b32d52eaac8f">rmw_ret_t</a> rmw_get_topic_names_and_types </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrmw__node__t.html">rmw_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/dhood/ros2_ardent/doxygen_tag_files/rcutils.tag:http://docs.ros2.org/latest/api/rcutils/" href="http://docs.ros2.org/latest/api/rcutils/structrcutils__allocator__t.html">rcutils_allocator_t</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>no_demangle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrmw__names__and__types__t.html">rmw_names_and_types_t</a> *&#160;</td>
          <td class="paramname"><em>topic_names_and_types</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a list of topic names and their types. </p>
<p>This function returns a list of topic names in the ROS graph and their types.</p>
<p>The node parameter must not be <code>NULL</code>, and must point to a valid node.</p>
<p>The topic_names_and_types parameter must be allocated and zero initialized. The topic_names_and_types is the output for this function, and contains allocated memory. Therefore, it should be passed to <a class="el" href="names__and__types_8h.html#a4efcc3024c3307b97087ee43533b5a5c" title="Finalize a rmw_names_and_types_t object. ">rmw_names_and_types_fini()</a> when it is no longer needed. Failing to do so will result in leaked memory.</p>
<p>There may be some demangling that occurs when listing the topics from the middleware implementation. This is the mechanism by which this function can discriminate between ROS topics, non-ROS topics, and topics which may be used to implement other concepts like ROS Services.</p>
<p>For example, if the underlying implementation is DDS or RTPS, ROS specific prefixes may be prepended to the user namespace, and the namespace may be stripped of leading and trailing slashes, see:</p>
<p><a href="http://design.ros2.org/articles/topic_and_service_names.html#ros-namespaces-with-dds-partitions">http://design.ros2.org/articles/topic_and_service_names.html#ros-namespaces-with-dds-partitions</a></p>
<p>As well as:</p>
<p><a href="http://design.ros2.org/articles/topic_and_service_names.html#communicating-with-non-ros-topics">http://design.ros2.org/articles/topic_and_service_names.html#communicating-with-non-ros-topics</a></p>
<p>If the no_demangle argument is true, then the topic names given by the middleware will be returned without any demangling or filtering. For example, the ROS topic <code>/foo</code> may be returned as <code>rt/foo</code> or the DDS topic (non-ROS topic) with a partition list `['foo', 'bar']<code>and topic</code>baz<code> may be returned as</code>foo/baz` (note that only the first partition is used but it is still concatenated to the topic).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>the handle to the node being used to query the ROS graph </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>allocator to be used when allocating space for strings </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">no_demangle</td><td>if true, list all topics without any demangling </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">topic_names_and_types</td><td>list of topic names and their types </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>RMW_RET_OK</code> if the query was successful, or </dd>
<dd>
<code>RMW_RET_INVALID_ARGUMENT</code> if the node is invalid, or </dd>
<dd>
<code>RMW_RET_INVALID_ARGUMENT</code> if any arguments are invalid, or </dd>
<dd>
<code>RMW_RET_BAD_ALLOC</code> if memory allocation fails, or </dd>
<dd>
<code>RMW_RET_ERROR</code> if an unspecified error occurs. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
